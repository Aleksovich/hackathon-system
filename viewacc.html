<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles/global.css">
  <link rel="icon" type="image/x-icon" href="images/CCISLogo.ico">


  <title>View Acc Form</title>
  <style>

    nav{
        background-color: var(--clr-Green);
        top: 0;
        z-index: 1000;
    }
    
    body {
      background-color: #FCFCFC;
      margin: 0;
      padding: 0;
    }

    .section2, .section3, .section4, .section5 {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      width: 100%;
      padding: 20px 0;
    }
    
    .container {
      padding-inline: 5%;
      padding-top: 7%;
      width: 100%;
      position: relative;
    }

    .content-wrapper {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 20px;
      width: 100%;
    }

    .card{
        padding: 3%;
    }

    .card, .sidecard {
        display: flex;
        flex-direction: column;
        background-color: transparent;
        border-radius: 5px;
        gap: 1rem;
    }

    .card {
        border: 2px solid var(--clr-Green);
        height: 100%;
        width: 100%;
    }

    /* Fixed sidebar styling */
    .sidebar-container {
      position: fixed;
      top: 100px; /* Adjust based on your navbar height */
      right: 5%;
      width: calc(25% - 20px); /* Adjust width to match layout */
      z-index: 900;
    }

    label{
        color: var(--clr-Green);
        font-family: var(--ff-Proxima);
        font-size: 1.125rem;
        font-style: normal;
        font-weight: 400;
        line-height: normal;
    }
    
    .card-title {
    color: var(--clr-Green);
      padding-bottom: 2%;
      margin-bottom: 2%;
      border-bottom: 1px solid var(--clr-Green);
    }
    
    .profile-section {
      display: flex;
      align-items: center;
      margin-bottom: 20px;

      gap: 1rem;

    }
    .profile-image{
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .secondlayer:last-child, .thirdlayer:last-child{
      flex: 1;
    }

    .profile-image img{
      width: 70%;
      height: auto;
  
      border-radius: 50%;
    }

    .form-grid{
        display: flex;
        flex-direction: column;
    }
    
    .completeness-container {
      position: relative;
      width: 80px;
      height: 80px;
    }
    
    .circle-bg {
      fill: none;
      stroke: #e9e9e9;
      stroke-width: 8;
    }
    
    .circle-progress {
      fill: none;
      stroke: var(--highlight-color);
      stroke-width: 8;
      stroke-linecap: round;
      transform: rotate(-90deg);
      transform-origin: 50% 50%;
      transition: stroke-dashoffset 0.5s;
    }
    
    .circle-text {
      font-size: 16px;
      font-weight: bold;
      fill: var(--highlight-color);
    }
    
    .completeness-label {
      text-align: center;
      color: var(--primary-color);
      font-weight: 600;
      margin-top: 10px;
    }
    
    .form-group {
      display: flex;
      flex-direction: column;

      margin-bottom: 15px;
    }
    
    .form-container{
        display: flex;
        flex-direction: column;

        flex: 1;
        width: 33%;
    }
    
    .form-control {
      width: 100%;
      padding-block: 8px;
      border: none;
      border-bottom: 2px solid var(--clr-Green); /* underline */
      outline: none;
      font-size: 16px;

      color: var(--clr-Green);
      font-family: "Proxima Nova";
      font-size: 1.125rem;
      font-style: normal;
      font-weight: 600;
      line-height: normal;

      background-color: transparent;

      flex: 1;
    }
    
    .form-control:focus {
      outline: none;
      border-color: var(--clr-Green);
    }
    
    .btn-container {
      display: flex;
      width: 100%;
      height: 100%;
      gap: 1.5rem;
    }

    .form-row #email{
      flex: 1;
    }
    
    .btn {
      padding: 8px 15px;
      border: 1px solid var(--clr-Green);
      background-color: transparent;
      cursor: pointer;
      font-weight: 500;
      transition: all 0.2s;

      color: var(--clr-Green);
    font-family: var(--ff-Metropolis);
    font-size: 1.125rem;
    font-style: normal;
    font-weight: 400;
    line-height: normal;
    }
    
    .btn:hover {
        background-color: var(--clr-White);
    }

 .registered-usertable {
    max-height: 320px; /* or whatever height you prefer */
    overflow-y: auto;
}

    
    .sidebar-menu {
      display: flex;
      flex-direction: column;

      padding: 5%;

      border-radius: 0.625rem;
      border: 2px solid var(--clr-Green);
    }
    
    .sidebar-menu a {
      padding: 10px 15px;
      color: var(--clr-Green);
    font-family: var(--ff-Metropolis);
    font-size: 1rem;
    font-weight: 400;
    }
    
    .sidebar-menu a:hover {
        text-decoration: underline;
    }
    
    .registered-users {
      border-radius: 0.625rem;
      width: 100%;
      height: 350px; /* Increased fixed height */
      border: 2px solid var(--clr-Green);
      margin-top: 20px;
    }
    
    .user-card {
      display: flex;
      align-items: center;
      margin: 2%;
      padding: 2%;

      background-color: #E0EBF3;
      border-radius: 5px;
    }
    
    .user-avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-color: #e9e9e9;
      margin-right: 15px;
      overflow: hidden;
    }
    
    .user-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .user-info h4,  .user-info p {
        color: var(--clr-Green);
    font-family: var(--ff-Proxima);
    font-size: 1.125rem;
    font-weight: 600;
    }
    
    .user-info p {
        font-weight: 400;
    }

    .circle-container{
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;

        width: 20%;
    }

    .form-row{
        display: flex;
        gap: 1rem;

        width: 100%;
    }

    .firstlayer{
      flex: 1;
    }

    /* Added for sticky behavior */
    main {
      min-height: 100vh;
      position: relative;
    }
    
    @media (max-width: 768px) {
      .content-wrapper {
        grid-template-columns: 1fr;
      }
      
      .sidebar-container {
        position: static;
        width: 100%;
        margin-top: 20px;
        margin-bottom: 20px;
        right: 0;
      }
      
      .container {
        padding-top: 20px;
      }
    }
  </style>
</head>
<header>
    <nav>
        <div class="navbar-left">
            <img src="images/UMakLogo.png" alt="UMak Logo">
            <a href="#">UNIVERSITY OF MAKATI</a>
        </div>
        <ul class="navbar-right">
            <li><a href="">Home</a></li>
            <li><a href="">Dashboard</a></li>
            <li><a href="">Account</a></li>
            <li><a href="">Settings</a></li>
            <li><a href="">Logout</a></li>
        </ul>
    </nav>
</header>
<body>
  <!-- Main Content -->
  <main>
    <!-- Fixed sidebar that stays visible throughout all sections -->
    <div class="sidebar-container">
      <div class="sidecard">
        <div class="sidebar-menu">
          <a href="#">Create New Account</a>
          <a id="active-sidebar" href="#">Professional Information</a>
          <a href="#">Professional Licenses</a>
          <a href="#">Research and Publications</a>
          <a href="#">Account Security</a>
        </div>
        
        <div class="registered-users">
          <div class="registered-usertable">
              <div class="user-card">
                  <div class="user-avatar">
                    <img src="/api/placeholder/50/50" alt="User Avatar">
                  </div>
                  <div class="user-info">
                    <h4>Anna Charisma De Chavez</h4>
                    <p>Associate Professor</p>
                  </div>
              </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="content-wrapper">
        <!-- Registration Form Card -->
        <div class="card">
          <h2 class="card-title">Personal Information</h2>
          
          <div class="profile-section">
            <div class="profile-image">
                <img src="images/roel-profile.png" alt="Profile Pic">
            </div>

            <div class="circle-container">
                <div class="completeness-container">
                    <svg width="80" height="80" viewBox="0 0 80 80">
                      <circle class="circle-bg" cx="40" cy="40" r="36"></circle>
                      <circle class="circle-progress" cx="40" cy="40" r="36" 
                            stroke-dasharray="226.19" stroke-dashoffset="226.19"></circle>
                      <text class="circle-text" x="40" y="45" text-anchor="middle">0%</text>
                    </svg>
                  </div>
                  
                  <div class="completeness-label">Profile Completeness</div>
            </div>

            <div class="form-container">
                <div class="form-group">
                    <label for="assigned-position">Assigned Position:</label>
                    <input type="text" class="form-control" id="assigned-position" value="Associate Professor" readonly>
                </div>
                  
                <div class="form-group">
                    <label for="department">Department:</label>
                    <input type="text" class="form-control" id="department" value="IT Department" readonly>
                </div>
            </div>
          </div>
          
          <div class="form-grid">
            <div class="form-row">
                <div class="form-group firstlayer">
                    <label for="first-name">First Name:</label>
                    <input type="text" class="form-control" id="first-name" value="Roel" readonly>
                  </div>
                  
                  <div class="form-group firstlayer">
                    <label for="last-name">Last Name:</label>
                    <input type="text" class="form-control" id="last-name" value="Traballo" readonly>
                  </div>
                  
                  <div class="form-group firstlayer">
                    <label for="contact">Contact:</label>
                    <input type="text" class="form-control" id="contact" value="09123456789" readonly>
                  </div>
            </div>

            <div class="form-row">
                <div class="form-group secondlayer">
                    <label for="sex">Sex:</label>
                    <input type="text" class="form-control" id="sex" value="Male" readonly>
                  </div>
                  
                  <div class="form-group secondlayer">
                    <label for="age">Age:</label>
                    <input type="number" class="form-control" id="age" value="18" readonly>
                  </div>
                  
                  <div class="form-group secondlayer">
                    <label for="email">Email:</label>
                    <input type="email" class="form-control" id="email" value="rtraballo.k121512345@umak.edu.ph" readonly>
                  </div>
            </div>
            
            <div class="form-row">
                <div class="form-group thirdlayer">
                    <label for="civil-status">Civil Status:</label>
                    <input type="text" class="form-control" id="civil-status" value="Married" readonly>
                </div>
                  
                <div class="form-group thirdlayer">
                    <label for="address">Address:</label>
                    <input type="text" class="form-control" id="address" value="Blk. 123 Lot 45 Agoncillo Street East Rembo" readonly>
                </div>
            </div>
          </div>
          
          <div class="btn-container">
            <button class="btn btn-outline" id="edit-personal-info">Edit Personal Info </button>
          </div>
        </div>
        
        <!-- Empty div to maintain grid layout -->
        <div style="width: 100%;"></div>
      </div>
    </div>
  </main>

  <section class="section2" id="section2">
    <!-- Content for section 2 -->
    <div class="container" style="padding-top: 40px;">
      <div class="content-wrapper">
        <div style="grid-column: 1;">
          <h2 style="color: var(--clr-Green);">Professional Information</h2>
          <div style="background-color: #f0f0f0; padding: 20px; border: 2px solid var(--clr-Green); border-radius: 5px;">
            <div class="form-row">
              <div class="form-group firstlayer">
                <label for="education">Educational Background:</label>
                <input type="text" class="form-control" id="education" value="Master's in Computer Science">
              </div>
              
              <div class="form-group firstlayer">
                <label for="specialization">Specialization:</label>
                <input type="text" class="form-control" id="specialization" value="Web Development">
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="experience">Years of Experience:</label>
                <input type="number" class="form-control" id="experience" value="8">
              </div>
              
              <div class="form-group">
                <label for="work-history">Work History:</label>
                <input type="text" class="form-control" id="work-history" value="10 years at University of Makati">
              </div>
            </div>
          </div>
        </div>
        <!-- Empty div to maintain grid layout -->
        <div style="width: 100%;"></div>
      </div>
    </div>
  </section>

  <section class="section3" id="section3">
    <!-- Content for section 3 -->
    <div class="container" style="padding-top: 40px;">
      <div class="content-wrapper">
        <div style="grid-column: 1;">
          <h2 style="color: var(--clr-Green);">Professional Licenses</h2>
          <div style="background-color: #e0e0e0; padding: 20px; border: 2px solid var(--clr-Green); border-radius: 5px;">
            <div class="form-row">
              <div class="form-group firstlayer">
                <label for="license-type">License Type:</label>
                <input type="text" class="form-control" id="license-type" value="Professional Teacher's License">
              </div>
              
              <div class="form-group firstlayer">
                <label for="license-number">License Number:</label>
                <input type="text" class="form-control" id="license-number" value="PTL-123456789">
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="date-issued">Date Issued:</label>
                <input type="text" class="form-control" id="date-issued" value="January 15, 2015">
              </div>
              
              <div class="form-group">
                <label for="expiry-date">Expiry Date:</label>
                <input type="text" class="form-control" id="expiry-date" value="January 15, 2025">
              </div>
            </div>
          </div>
        </div>
        <!-- Empty div to maintain grid layout -->
        <div style="width: 100%;"></div>
      </div>
    </div>
  </section>

  <section class="section4" id="section4">
    <!-- Content for section 4 -->
    <div class="container" style="padding-top: 40px;">
      <div class="content-wrapper">
        <div style="grid-column: 1;">
          <h2 style="color: var(--clr-Green);">Research and Publications</h2>
          <div style="background-color: #d0d0d0; padding: 20px; border: 2px solid var(--clr-Green); border-radius: 5px;">
            <div class="form-row">
              <div class="form-group firstlayer">
                <label for="research-title">Research Title:</label>
                <input type="text" class="form-control" id="research-title" value="Impact of AI in Education">
              </div>
              
              <div class="form-group firstlayer">
                <label for="pub-date">Publication Date:</label>
                <input type="text" class="form-control" id="pub-date" value="March 2023">
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="journal">Journal:</label>
                <input type="text" class="form-control" id="journal" value="Journal of Educational Technology">
              </div>
              
              <div class="form-group">
                <label for="co-authors">Co-Authors:</label>
                <input type="text" class="form-control" id="co-authors" value="Dr. Anna De Chavez, Dr. John Smith">
              </div>
            </div>
          </div>
        </div>
        <!-- Empty div to maintain grid layout -->
        <div style="width: 100%;"></div>
      </div>
    </div>
  </section>

  <section class="section5" id="section5">
    <!-- Content for section 5 -->
    <div class="container" style="padding-top: 40px; padding-bottom: 100px;">
      <div class="content-wrapper">
        <div style="grid-column: 1;">
          <h2 style="color: var(--clr-Green);">Account Security</h2>
          <div style="background-color: #c0c0c0; padding: 20px; border: 2px solid var(--clr-Green); border-radius: 5px;">
            <div class="form-row">
              <div class="form-group firstlayer">
                <label for="username">Username:</label>
                <input type="text" class="form-control" id="username" value="rtraballo">
              </div>
              
              <div class="form-group firstlayer">
                <label for="password">Password:</label>
                <input type="password" class="form-control" id="password" value="********">
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="security-question">Security Question:</label>
                <input type="text" class="form-control" id="security-question" value="What was your first pet's name?">
              </div>
              
              <div class="form-group">
                <label for="recovery-email">Recovery Email:</label>
                <input type="email" class="form-control" id="recovery-email" value="roel.traballo@gmail.com">
              </div>
            </div>
            
            <div class="btn-container" style="margin-top: 20px;">
              <button class="btn btn-outline">Change Password</button>
              <button class="btn btn-outline">Update Security Info</button>
            </div>
          </div>
        </div>
        <!-- Empty div to maintain grid layout -->
        <div style="width: 100%;"></div>
      </div>
    </div>
  </section>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Form fields
      const formFields = [
        'assigned-position', 'department', 'first-name', 'last-name', 
        'contact', 'sex', 'age', 'email', 'civil-status', 'address'
      ];
      
      // Track form completeness
      const totalFields = formFields.length;
      let completedFields = 0;
      
      // Progress circle elements
      const progressCircle = document.querySelector('.circle-progress');
      const progressText = document.querySelector('.circle-text');
      const circumference = 2 * Math.PI * 36; // 2Ï€r where r=36
      
      // Update progress function
      function updateProgress() {
        completedFields = formFields.filter(id => 
          document.getElementById(id).value.trim() !== ''
        ).length;
        
        const percentage = Math.round((completedFields / totalFields) * 100);
        const offset = circumference - (percentage / 100 * circumference);
        
        progressCircle.style.strokeDasharray = circumference;
        progressCircle.style.strokeDashoffset = offset;
        progressText.textContent = `${percentage}%`;
        
        // Change color based on completion
        if (percentage < 30) {
          progressCircle.style.stroke = '#dc3545'; // Red
        } else if (percentage < 70) {
          progressCircle.style.stroke = '#ffc107'; // Yellow
        } else {
          progressCircle.style.stroke = '#28a745'; // Green
        }
      }
      
      // Add input event listeners to all form fields
      formFields.forEach(id => {
        const field = document.getElementById(id);
        field.addEventListener('input', updateProgress);
      });
      
      // Button functionality
      const saveButton = document.getElementById('save-account');
      if (saveButton) {
        saveButton.addEventListener('click', function() {
          // Validate required fields
          let isValid = true;
          const requiredFields = ['first-name', 'last-name', 'email', 'sex', 'age', 'contact', 'assigned-position', 'department', 'civil-status', 'address'];
          
          requiredFields.forEach(id => {
            const field = document.getElementById(id);
            if (field.value.trim() === '') {
              field.style.borderColor = '#dc3545';
              isValid = false;
            } else {
              field.style.borderColor = '#ced4da';
            }
          });
          
          if (isValid) {
            alert('Account saved successfully!');
            updateUsersList();
          } else {
            alert('Please fill in all required fields.');
          }
        });
      }
      
      const deleteButton = document.getElementById('delete-account');
      if (deleteButton) {
        deleteButton.addEventListener('click', function() {
          if (confirm('Are you sure you want to delete this account?')) {
            // Clear all form fields
            formFields.forEach(id => {
              document.getElementById(id).value = '';
            });
            updateProgress();
            alert('Account deleted successfully!');
          }
        });
      }
      
      const newAccountButton = document.getElementById('new-account');
      if (newAccountButton) {
        newAccountButton.addEventListener('click', function() {
          // Clear all form fields
          formFields.forEach(id => {
            document.getElementById(id).value = '';
            document.getElementById(id).style.borderColor = '#ced4da';
          });
          updateProgress();
        });
      }
      
      const editPersonalInfoButton = document.getElementById('edit-personal-info');
      if (editPersonalInfoButton) {
        editPersonalInfoButton.addEventListener('click', function() {
          // Remove readonly attribute to make fields editable
          formFields.forEach(id => {
            const field = document.getElementById(id);
            if (field) {
              field.removeAttribute('readonly');
            }
          });
          alert('You can now edit your personal information.');
        });
      }
      
      // Function to add a new user to the list
      function updateUsersList() {
        const firstName = document.getElementById('first-name').value;
        const lastName = document.getElementById('last-name').value;
        const position = document.getElementById('assigned-position').value || 'Pending Position';
        
        if (firstName && lastName) {
          const fullName = `${firstName} ${lastName}`;
          
          const userCard = document.createElement('div');
          userCard.className = 'user-card';
          userCard.innerHTML = `
            <div class="user-avatar">
              <img src="/api/placeholder/50/50" alt="User Avatar">
            </div>
            <div class="user-info">
              <h4>${fullName}</h4>
              <p>${position}</p>
            </div>
          `;
          
          const registeredUsers = document.querySelector('.registered-usertable');
          registeredUsers.prepend(userCard);
        }
      }
      
      // Initialize progress bar
      updateProgress();
    });
  </script>
</body>
</html>